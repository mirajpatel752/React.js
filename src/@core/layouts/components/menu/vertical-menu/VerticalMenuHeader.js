// ** React Imports
import React, { useEffect } from 'react'
import { NavLink } from 'react-router-dom'

// ** Icons Imports
import { Disc, X, Circle, ChevronsRight, ChevronsLeft } from 'react-feather'
// ** Config
import themeConfig from '@configs/themeConfig'
import Logo from '../../../../../common_components/Logo'
import { useSelector } from 'react-redux'

const VerticalMenuHeader = props => {
  // ** Props
  const selected_company_object = useSelector((state) => state.commonReducer.selected_company_object)
  const { menuCollapsed, setMenuCollapsed, setGroupOpen, menuHover, setMenuVisibility, companyListOpen, setCompanyListOpen } = props
  // ** Reset open group
  useEffect(() => {
    if (!menuHover && menuCollapsed) setGroupOpen([])
  }, [menuHover, menuCollapsed])

  // ** Menu toggler component
  const Toggler = () => {
    if (!menuCollapsed) {
      return (
        <ChevronsLeft
          size={20}
          data-tour='toggle-icon'
          className='text-primary toggle-icon d-none d-xl-block'
          onClick={() => setMenuCollapsed(true)}
        />
      )
    } else {
      return (
        <ChevronsRight
          size={20}
          data-tour='toggle-icon'
          className='text-primary toggle-icon d-none d-xl-block'
          onClick={() => setMenuCollapsed(false)}
        />
      )
    }
  }
  return (
    <>
      <div className='navbar-header d-none d-sm-block'>
        <ul className='nav navbar-nav flex-row'>
          <li className='nav-item me-auto munim-main-logo'>
            <NavLink to='/' className='navbar-brand'>
              <span className='brand-logo'>
                <div className='brand-onhover-logo'>
                  <svg width="138" height="50" viewBox="0 0 391 137" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clipPath="url(#clip0_6231_92241)">
                      <path d="M57.0031 82.7651C60.7251 82.5834 61.5459 85.1399 61.5459 85.1399C61.5459 85.1399 63.363 93.6239 68.5136 97.9661C73.3258 102.02 84.2723 102.615 91.24 101.099C98.2076 99.5827 101.24 92.6151 101.24 92.6151C101.24 92.6151 106.898 79.582 106.999 74.1307C107.099 68.6731 101.541 69.8887 94.5734 70.0892C87.6057 70.2897 69.0274 74.5317 63.4695 75.9478C60.7313 76.6433 58.532 76.731 57.0031 76.6308C55.4805 76.7248 53.2749 76.6433 50.5367 75.9478C44.9852 74.5317 26.4005 70.2897 19.4266 70.0892C12.4589 69.8824 6.90108 68.6731 7.00134 74.1307C7.10159 79.5883 12.7597 92.6151 12.7597 92.6151C12.7597 92.6151 15.7924 99.5827 22.76 101.099C29.7277 102.615 40.6805 102.026 45.4864 97.9661C50.637 93.6239 52.4541 85.1399 52.4541 85.1399C52.4541 85.1399 53.2812 82.5834 57.0031 82.7651ZM98.4207 91.199C95.7953 98.0664 87.4115 99.3822 77.0039 98.5739C66.6025 97.7656 63.3693 88.066 65.1864 82.5144C67.0035 76.9629 83.37 75.2397 83.37 75.2397C88.2198 74.3312 100.545 74.4314 100.946 77.3639C101.24 79.4692 101.046 84.3316 98.4207 91.199ZM13.0667 77.3576C13.4677 74.4252 25.7927 74.3249 30.6425 75.2335C30.6425 75.2335 47.009 76.9503 48.8261 82.5082C50.6433 88.066 47.4101 97.7594 37.0087 98.5677C26.601 99.3822 18.2173 98.0664 15.5919 91.199C12.9602 84.3316 12.7722 79.4692 13.0667 77.3576Z" fill="#1773EA" />
                      <path d="M57.0031 82.7651C60.7251 82.5834 61.5459 85.1399 61.5459 85.1399C61.5459 85.1399 63.363 93.6239 68.5136 97.9661C73.3258 102.02 84.2723 102.615 91.24 101.099C98.2076 99.5827 101.24 92.6151 101.24 92.6151C101.24 92.6151 106.898 79.582 106.999 74.1307C107.099 68.6731 101.541 69.8887 94.5734 70.0892C87.6057 70.2897 69.0274 74.5317 63.4695 75.9478C60.7313 76.6433 58.532 76.731 57.0031 76.6308C55.4805 76.7248 53.2749 76.6433 50.5367 75.9478C44.9852 74.5317 26.4005 70.2897 19.4266 70.0892C12.4589 69.8824 6.90108 68.6731 7.00134 74.1307C7.10159 79.5883 12.7597 92.6151 12.7597 92.6151C12.7597 92.6151 15.7924 99.5827 22.76 101.099C29.7277 102.615 40.6805 102.026 45.4864 97.9661C50.637 93.6239 52.4541 85.1399 52.4541 85.1399C52.4541 85.1399 53.2812 82.5834 57.0031 82.7651ZM98.4207 91.199C95.7953 98.0664 87.4115 99.3822 77.0039 98.5739C66.6025 97.7656 63.3693 88.066 65.1864 82.5144C67.0035 76.9629 83.37 75.2397 83.37 75.2397C88.2198 74.3312 100.545 74.4314 100.946 77.3639C101.24 79.4692 101.046 84.3316 98.4207 91.199ZM13.0667 77.3576C13.4677 74.4252 25.7927 74.3249 30.6425 75.2335C30.6425 75.2335 47.009 76.9503 48.8261 82.5082C50.6433 88.066 47.4101 97.7594 37.0087 98.5677C26.601 99.3822 18.2173 98.0664 15.5919 91.199C12.9602 84.3316 12.7722 79.4692 13.0667 77.3576Z" fill="black" fillOpacity="0.1" />
                      <path d="M94.8803 109.101C97.2573 111.065 99.8837 115.574 99.9246 119.099C99.9926 124.824 96.2684 127.11 91.9772 126.924C87.2006 126.72 82.8277 123.436 80.1014 118.845C76.3182 112.467 72.594 104.851 65.132 104.878C64.2837 104.883 57.6201 105.926 56.9986 107.572C56.3771 105.926 49.7135 104.883 48.8652 104.878C41.4032 104.851 37.679 112.467 33.8958 118.845C31.1741 123.436 26.7967 126.72 22.0246 126.924C17.7333 127.105 14.0091 124.819 14.0772 119.099C14.1135 115.579 16.7399 111.065 19.1214 109.101C13.9048 113.406 9.57728 119.521 13.5464 127.074C18.9445 137.339 31.9997 136.799 40.0423 131.923C44.9142 128.97 51.5325 119.698 56.9986 120.678C56.9986 120.682 56.9986 120.691 56.9986 120.691C63.2767 121.866 69.0513 128.947 73.9549 131.918C81.9975 136.795 95.0527 137.334 100.451 127.069C104.424 119.521 100.097 113.406 94.8803 109.101Z" fill="#333333" />
                      <path d="M99.6746 117.103C100.813 118.795 101.625 120.641 101.897 122.637C102.641 117.08 99.0441 112.489 94.8799 109.051C96.835 110.666 98.9579 114.009 99.6746 117.103Z" fill="#333333" />
                      <path d="M14.3268 117.103C15.039 114.009 17.1619 110.666 19.1216 109.051C14.9528 112.489 11.3602 117.084 12.1041 122.641C12.3763 120.645 13.1882 118.795 14.3268 117.103Z" fill="#333333" />
                      <path d="M14.1861 120.763C14.1181 121.181 14.0772 121.593 14.0727 121.993C14.0047 127.717 17.7289 130.003 22.0201 129.822C26.7967 129.618 31.1696 126.334 33.8913 121.743C37.6745 115.37 41.3987 107.749 48.8607 107.776C49.709 107.781 56.3727 108.824 56.9941 110.471C57.6156 108.824 64.2793 107.781 65.1275 107.776C72.5896 107.749 76.3138 115.365 80.0969 121.743C82.8187 126.334 87.1961 129.618 91.9727 129.822C96.2639 130.003 99.9881 127.717 99.9201 121.993C99.9156 121.593 99.8747 121.181 99.8067 120.763C99.1762 125.227 95.8012 127.041 91.9727 126.878C87.1961 126.674 82.8232 123.39 80.0969 118.799C76.3138 112.426 72.5896 104.805 65.1275 104.832C64.2793 104.837 57.6156 105.88 56.9941 107.527C56.3772 105.885 49.7135 104.841 48.8653 104.837C41.4032 104.809 37.679 112.426 33.8958 118.804C31.1741 123.394 26.7967 126.678 22.0246 126.883C18.1916 127.041 14.8166 125.227 14.1861 120.763Z" fill="#333333" />
                      <path d="M94.8799 109.102C96.8713 110.748 99.035 114.182 99.7064 117.326C99.7654 116.854 99.8016 116.359 99.7926 115.829C99.788 115.271 99.7064 114.686 99.5839 114.087C98.3092 112.227 96.6445 110.562 94.8799 109.102Z" fill="#333333" />
                      <path d="M14.049 114.636C13.9855 115.044 13.9447 115.443 13.9402 115.829C13.9311 116.663 14.0082 117.416 14.1488 118.106C14.5934 114.767 16.9522 110.884 19.1114 109.102C17.179 110.703 15.3645 112.554 14.049 114.636Z" fill="#333333" />
                      <path d="M101.802 119.163C101.639 120.641 101.171 122.188 100.323 123.799C94.925 134.064 81.8698 133.524 73.8271 128.648C68.9281 125.677 63.1535 118.596 56.8709 117.421C56.8709 117.421 56.8709 117.412 56.8709 117.407C51.4048 116.427 44.7865 125.699 39.9146 128.652C31.8674 133.524 18.8168 134.069 13.4187 123.803C12.7337 122.501 12.2983 121.24 12.0715 120.024C11.8265 122.206 12.2257 124.561 13.5503 127.074C18.9483 137.339 32.0035 136.799 40.0461 131.923C44.9135 128.97 51.5318 119.698 56.9979 120.678C56.9979 120.682 56.9979 120.691 56.9979 120.691C63.2805 121.866 69.0551 128.947 73.9542 131.918C81.9968 136.795 95.052 137.335 100.45 127.069C101.947 124.225 102.265 121.585 101.802 119.163Z" fill="#333333" />
                      <path d="M20.6343 26.7544C20.6343 26.7544 22.9466 5.91641 41.264 1.68933C59.5814 -2.53775 67.4093 14.0575 67.4093 14.0575C67.4093 14.0575 68.3486 16.4058 68.6618 22.0419C68.6618 22.0419 55.3543 38.0109 51.2838 41.2987C51.2838 41.2987 38.0906 30.59 20.6343 26.7544Z" fill="#1773EA" />
                      <path d="M20.6343 26.7544C20.6343 26.7544 22.9466 5.91641 41.264 1.68933C59.5814 -2.53775 67.4093 14.0575 67.4093 14.0575C67.4093 14.0575 68.3486 16.4058 68.6618 22.0419C68.6618 22.0419 55.3543 38.0109 51.2838 41.2987C51.2838 41.2987 38.0906 30.59 20.6343 26.7544Z" fill="black" fillOpacity="0.05" />
                      <path d="M50.3448 36.0441C50.5561 35.803 45.4461 32.4934 45.194 32.3478C37.1359 27.6902 28.8947 24.8111 19.5826 26.2592C12.8052 27.3129 5.24513 32.4589 2.99207 39.2692C-0.452263 49.6804 5.39054 59.816 15.5903 63.755C15.5888 63.755 39.8553 47.9426 50.3448 36.0441Z" fill="#1773EA" />
                      <path d="M50.3448 36.0441C50.5561 35.803 45.4461 32.4934 45.194 32.3478C37.1359 27.6902 28.8947 24.8111 19.5826 26.2592C12.8052 27.3129 5.24513 32.4589 2.99207 39.2692C-0.452263 49.6804 5.39054 59.816 15.5903 63.755C15.5888 63.755 39.8553 47.9426 50.3448 36.0441Z" fill="white" fillOpacity="0.1" />
                      <path d="M67.8794 9.27251C68.0485 9.22241 68.1988 13.2178 68.1847 13.4573C67.8904 18.3294 63.3424 21.5013 60.2128 24.67C56.1876 28.7437 52.0952 32.7516 47.9448 36.6969C39.1181 45.0869 30.0752 53.6506 19.9741 60.511C18.4116 61.5725 16.5799 62.6073 14.8906 63.4574C14.8906 63.4574 17.0824 64.6943 21.5381 64.6943H58.3294C58.3294 64.6943 81.9697 48.2556 90.2673 34.635C90.2673 34.635 96.9993 22.58 86.0402 12.4037C86.0402 12.4037 79.4648 5.82822 67.8794 9.27251Z" fill="#1773EA" />
                      <path d="M93.1703 29.7206C93.1703 29.7206 85.3424 45.6896 57.7881 64.6332H97.8671C97.8671 64.6332 109.452 62.598 111.644 50.8561C113.836 39.1142 105.695 29.5641 93.1703 29.7206Z" fill="#1773EA" />
                      <path d="M93.1703 29.7206C93.1703 29.7206 85.3424 45.6896 57.7881 64.6332H97.8671C97.8671 64.6332 109.452 62.598 111.644 50.8561C113.836 39.1142 105.695 29.5641 93.1703 29.7206Z" fill="white" fillOpacity="0.1" />
                    </g>
                    <defs>
                      <clipPath id="clip0_6231_92241">
                        <rect width="391" height="137" fill="white" />
                      </clipPath>
                    </defs> </svg>
                </div>
                <div className='brand-unhover-main-logo'> <Logo className='logo' /></div>
              </span>
              <h2 className='brand-text mb-0'>{themeConfig.app.appName}</h2>
            </NavLink>
          </li>
          <li className='nav-item nav-toggle'>
            <div className='nav-link modern-nav-toggle cursor-pointer'>
              <Toggler />
              <X onClick={() => setMenuVisibility(false)} className='toggle-icon icon-x d-block d-xl-none' size={20} />
            </div>
          </li>
        </ul>
      </div>
      <div className='munim-vyapar-header p-1 d-block d-sm-none'>
        <div className='d-flex align-items-center gap-1'>
          <div className='munim-vyapar-main-logo d-flex align-items-center justify-content-center'>
            <svg width="250" height="250" viewBox="0 0 250 250" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M20.834 72.9173L66.7715 26.9798C68.7096 25.0302 71.0144 23.4833 73.5531 22.4285C76.0917 21.3737 78.8141 20.8318 81.5631 20.834H168.438C171.187 20.8318 173.91 21.3737 176.448 22.4285C178.987 23.4833 181.292 25.0302 183.23 26.9798L229.167 72.9173M41.6673 125.001V208.334C41.6673 213.859 43.8622 219.158 47.7693 223.065C51.6763 226.972 56.9753 229.167 62.5006 229.167H187.501C193.026 229.167 198.325 226.972 202.232 223.065C206.139 219.158 208.334 213.859 208.334 208.334V125.001" stroke="#333333" strokeWidth="10" strokeLinecap="round" strokeLinejoin="round" />
              <path d="M156.251 229.168V187.501C156.251 181.976 154.056 176.677 150.149 172.77C146.242 168.863 140.943 166.668 135.417 166.668H114.584C109.059 166.668 103.76 168.863 99.8526 172.77C95.9456 176.677 93.7506 181.976 93.7506 187.501V229.168M20.834 72.918H229.167V104.168C229.167 109.693 226.972 114.992 223.065 118.899C219.158 122.806 213.859 125.001 208.334 125.001C202.248 124.666 196.435 122.363 191.771 118.439C190.529 117.541 189.034 117.057 187.501 117.057C185.967 117.057 184.473 117.541 183.23 118.439C178.566 122.363 172.753 124.666 166.667 125.001C160.581 124.666 154.769 122.363 150.105 118.439C148.862 117.541 147.367 117.057 145.834 117.057C144.3 117.057 142.806 117.541 141.563 118.439C136.899 122.363 131.087 124.666 125.001 125.001C118.915 124.666 113.102 122.363 108.438 118.439C107.195 117.541 105.701 117.057 104.167 117.057C102.634 117.057 101.139 117.541 99.8965 118.439C95.2326 122.363 89.4201 124.666 83.334 125.001C77.2479 124.666 71.4353 122.363 66.7715 118.439C65.5286 117.541 64.0341 117.057 62.5006 117.057C60.9672 117.057 59.4727 117.541 58.2298 118.439C53.566 122.363 47.7534 124.666 41.6673 125.001C36.142 125.001 30.8429 122.806 26.9359 118.899C23.0289 114.992 20.834 109.693 20.834 104.168V72.918Z" stroke="#333333" strokeWidth="10" strokeLinecap="round" strokeLinejoin="round" />
            </svg>
          </div>
          <div className='munim-vyapar-content'>
            <h4 className='text-white mb-0 munim-mobile-company-name'>{selected_company_object?.company_name}</h4>
            <p className={`text-white munim-company-arrow ${companyListOpen ? 'munim-company-list-arrow' : ''}`} onClick={() => setCompanyListOpen(!companyListOpen)}>Change Company
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="feather feather-chevron-down"><polyline points="6 9 12 15 18 9"></polyline></svg>
            </p>
          </div>
        </div>
      </div>
    </>
  )
}

export default VerticalMenuHeader
